<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>מוצרים - Amazon Affiliate</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand">
                <i class="fas fa-shopping-bag"></i>
                <span>Amazon Products</span>
            </div>
            <ul class="nav-menu">
                <li><a href="/">בית</a></li>
                <li><a href="/products" class="active">מוצרים</a></li>
                <li><a href="/manage">ניהול מוצרים</a></li>
            </ul>
        </div>
    </nav>

    <main class="main-content">
        <section class="search-section">
            <div class="container">
                <h1>חיפוש מוצרים</h1>
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="חפש מוצרים...">
                    <button onclick="searchProducts()" class="btn btn-primary">
                        <i class="fas fa-search"></i> חפש
                    </button>
                </div>
                
                <div class="search-options">
                    <label>
                        <input type="radio" name="searchType" value="keywords" checked>
                        חיפוש לפי מילות מפתח
                    </label>
                    <label>
                        <input type="radio" name="searchType" value="url">
                        חיפוש לפי קישור מוצר
                    </label>
                    <label>
                        <input type="radio" name="searchType" value="category">
                        חיפוש לפי קטגוריה
                    </label>
                </div>
                
                <div class="store-selection" style="margin-top: 1rem; padding: 1rem; background: #f8f9fa; border-radius: 5px;">
                    <label style="display: block; margin-bottom: 0.5rem; font-weight: bold;">
                        <i class="fas fa-store"></i> בחר חנות:
                    </label>
                    <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
                        <label style="display: flex; align-items: center; gap: 0.5rem;">
                            <input type="radio" name="store" value="amazon" checked>
                            <i class="fab fa-amazon" style="color: #FF9900;"></i> Amazon
                        </label>
                        <label style="display: flex; align-items: center; gap: 0.5rem;">
                            <input type="radio" name="store" value="aliexpress">
                            <i class="fas fa-shopping-cart" style="color: #FF6A00;"></i> AliExpress
                        </label>
                    </div>
                    <small style="color: #666; display: block; margin-top: 0.5rem;">
                        <i class="fas fa-info-circle"></i> המערכת מזהה אוטומטית את החנות לפי הקישור
                    </small>
                </div>
            </div>
        </section>

        <section class="products-section">
            <div class="container">
                <!-- Saved Products Section -->
                <div id="savedProductsSection" style="margin-bottom: 3rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; flex-wrap: wrap; gap: 1rem;">
                        <h2 style="margin: 0;">
                            <i class="fas fa-bookmark" style="color: #667eea;"></i> מוצרים שנוספו
                            <span id="savedProductsCount" style="font-size: 0.8em; color: #999; font-weight: normal;"></span>
                        </h2>
                        <button onclick="loadSavedProducts()" class="btn btn-secondary" style="padding: 0.5rem 1rem;">
                            <i class="fas fa-sync-alt"></i> רענן
                        </button>
                    </div>
                    <div class="loading" id="loadingSaved" style="display: none;">
                        <i class="fas fa-spinner fa-spin"></i> טוען מוצרים שמורים...
                    </div>
                    <div class="products-grid" id="savedProductsGrid">
                        <!-- Saved products will be loaded here -->
                    </div>
                    <div id="noSavedProducts" style="text-align: center; padding: 2rem; color: #999; display: none;">
                        <i class="fas fa-inbox" style="font-size: 3rem; margin-bottom: 1rem;"></i>
                        <p>אין מוצרים שמורים עדיין</p>
                        <p style="font-size: 0.9rem;">הוסף מוצרים דרך דף <a href="/manage" style="color: #667eea;">ניהול מוצרים</a></p>
                    </div>
                </div>

                <!-- Search Results Section -->
                <div id="searchResultsSection" style="display: none;">
                    <h2 style="margin-bottom: 1.5rem;">
                        <i class="fas fa-search"></i> תוצאות חיפוש
                    </h2>
                    <div class="loading" id="loading" style="display: none;">
                        <i class="fas fa-spinner fa-spin"></i> טוען מוצרים...
                    </div>
                    <div class="products-grid" id="productsGrid">
                        <!-- Search results will be loaded here -->
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2026 Amazon Affiliate Showcase. כל הזכויות שמורות.</p>
        </div>
    </footer>

    <script src="{{ url_for('static', filename='js/products.js') }}"></script>
</body>
</html>
